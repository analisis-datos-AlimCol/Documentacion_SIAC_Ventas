
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="../facturacion/" rel="prev"/>
<link href="../ventas/" rel="next"/>
<link href="../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.6.12" name="generator"/>
<title>Liquidación de Ventas - SIAC 2.0 Ventas - Documentación Técnica</title>
<link href="../../assets/stylesheets/main.2afb09e1.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#ficha-tecnica-del-modulo-liquidacion-de-ventas-siac-20-ventas">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="SIAC 2.0 Ventas - Documentación Técnica" class="md-header__button md-logo" data-md-component="logo" href="../.." title="SIAC 2.0 Ventas - Documentación Técnica">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            SIAC 2.0 Ventas - Documentación Técnica
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Liquidación de Ventas
            
          </span>
</div>
</div>
</div>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="SIAC 2.0 Ventas - Documentación Técnica" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="SIAC 2.0 Ventas - Documentación Técnica">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>
</a>
    SIAC 2.0 Ventas - Documentación Técnica
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
<span class="md-ellipsis">
    Introducción
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../global/arquitectura/">
<span class="md-ellipsis">
    Arquitectura del Sistema
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../global/frontend/">
<span class="md-ellipsis">
    Componentes Frontend
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../global/estructura_archivos/">
<span class="md-ellipsis">
    Estructura de Archivos
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../global/interaccion_cliente_servidor/">
<span class="md-ellipsis">
    Interacción Cliente-Servidor
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../global/seguridad_validaciones/">
<span class="md-ellipsis">
    Seguridad y Validaciones
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../global/base_datos_global/">
<span class="md-ellipsis">
    Base de Datos Global
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
<span class="md-ellipsis">
    Fichas Técnicas por Módulo
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_8_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_8">
<span class="md-nav__icon md-icon"></span>
            Fichas Técnicas por Módulo
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../caja/">
<span class="md-ellipsis">
    Caja
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../cedis/">
<span class="md-ellipsis">
    CEDIS
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../crm/">
<span class="md-ellipsis">
    CRM
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../facturacion/">
<span class="md-ellipsis">
    Facturación Electrónica
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    Liquidación de Ventas
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    Liquidación de Ventas
    
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#1-proposito-general">
<span class="md-ellipsis">
      1. Propósito General
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#2-arquitectura-tecnica">
<span class="md-ellipsis">
      2. Arquitectura Técnica
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#3-estructura-de-archivos-clave">
<span class="md-ellipsis">
      3. Estructura de Archivos Clave
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#4-funcionalidades-principales">
<span class="md-ellipsis">
      4. Funcionalidades Principales
    </span>
</a>
<nav aria-label="4. Funcionalidades Principales" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#41-gestion-de-liquidacion-de-ordenes">
<span class="md-ellipsis">
      4.1 Gestión de Liquidación de Órdenes
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#42-control-de-cancelaciones">
<span class="md-ellipsis">
      4.2 Control de Cancelaciones
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#43-generacion-de-documentos">
<span class="md-ellipsis">
      4.3 Generación de Documentos
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#5-integraciones">
<span class="md-ellipsis">
      5. Integraciones
    </span>
</a>
<nav aria-label="5. Integraciones" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#51-proceso-de-liquidacion-de-ordenes-de-salida">
<span class="md-ellipsis">
      5.1 Proceso de Liquidación de Ordenes de Salida
    </span>
</a>
<nav aria-label="5.1 Proceso de Liquidación de Ordenes de Salida" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#511-validacion-de-documentos">
<span class="md-ellipsis">
      5.1.1 Validación de Documentos
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#512-validacion-de-productos">
<span class="md-ellipsis">
      5.1.2 Validación de Productos
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#513-gestion-de-cobros">
<span class="md-ellipsis">
      5.1.3 Gestión de Cobros
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#52-funciones-de-integracion">
<span class="md-ellipsis">
      5.2 Funciones de Integración
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#6-interaccion-cliente-servidor">
<span class="md-ellipsis">
      6. Interacción Cliente-Servidor
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#7-base-de-datos">
<span class="md-ellipsis">
      7. Base de datos
    </span>
</a>
<nav aria-label="7. Base de datos" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#tablas-de-liquidacion">
<span class="md-ellipsis">
      Tablas de Liquidación
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tablas-de-ventas-y-remisiones">
<span class="md-ellipsis">
      Tablas de Ventas y Remisiones
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tablas-de-productos">
<span class="md-ellipsis">
      Tablas de Productos
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tablas-de-clientes">
<span class="md-ellipsis">
      Tablas de Clientes
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tablas-de-vendedores">
<span class="md-ellipsis">
      Tablas de Vendedores
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tablas-de-tickets-y-documentos">
<span class="md-ellipsis">
      Tablas de Tickets y Documentos
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tablas-de-configuracion">
<span class="md-ellipsis">
      Tablas de Configuración
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tablas-de-estado">
<span class="md-ellipsis">
      Tablas de Estado
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#8-flujo-de-proceso">
<span class="md-ellipsis">
      8. Flujo de Proceso
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ventas/">
<span class="md-ellipsis">
    Ventas
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../integraciones/">
<span class="md-ellipsis">
    Integraciones
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../asincronicos/">
<span class="md-ellipsis">
    Procesos Asincrónicos
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../errores/">
<span class="md-ellipsis">
    Manejo de errores
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../performance/">
<span class="md-ellipsis">
    Optimización y performance
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../mantenimiento.md">
<span class="md-ellipsis">
    Mantenimiento
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../apis.md">
<span class="md-ellipsis">
    APIs y Servicios
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../requisitos.md">
<span class="md-ellipsis">
    Requisitos técnicos
    
  </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#1-proposito-general">
<span class="md-ellipsis">
      1. Propósito General
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#2-arquitectura-tecnica">
<span class="md-ellipsis">
      2. Arquitectura Técnica
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#3-estructura-de-archivos-clave">
<span class="md-ellipsis">
      3. Estructura de Archivos Clave
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#4-funcionalidades-principales">
<span class="md-ellipsis">
      4. Funcionalidades Principales
    </span>
</a>
<nav aria-label="4. Funcionalidades Principales" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#41-gestion-de-liquidacion-de-ordenes">
<span class="md-ellipsis">
      4.1 Gestión de Liquidación de Órdenes
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#42-control-de-cancelaciones">
<span class="md-ellipsis">
      4.2 Control de Cancelaciones
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#43-generacion-de-documentos">
<span class="md-ellipsis">
      4.3 Generación de Documentos
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#5-integraciones">
<span class="md-ellipsis">
      5. Integraciones
    </span>
</a>
<nav aria-label="5. Integraciones" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#51-proceso-de-liquidacion-de-ordenes-de-salida">
<span class="md-ellipsis">
      5.1 Proceso de Liquidación de Ordenes de Salida
    </span>
</a>
<nav aria-label="5.1 Proceso de Liquidación de Ordenes de Salida" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#511-validacion-de-documentos">
<span class="md-ellipsis">
      5.1.1 Validación de Documentos
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#512-validacion-de-productos">
<span class="md-ellipsis">
      5.1.2 Validación de Productos
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#513-gestion-de-cobros">
<span class="md-ellipsis">
      5.1.3 Gestión de Cobros
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#52-funciones-de-integracion">
<span class="md-ellipsis">
      5.2 Funciones de Integración
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#6-interaccion-cliente-servidor">
<span class="md-ellipsis">
      6. Interacción Cliente-Servidor
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#7-base-de-datos">
<span class="md-ellipsis">
      7. Base de datos
    </span>
</a>
<nav aria-label="7. Base de datos" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#tablas-de-liquidacion">
<span class="md-ellipsis">
      Tablas de Liquidación
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tablas-de-ventas-y-remisiones">
<span class="md-ellipsis">
      Tablas de Ventas y Remisiones
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tablas-de-productos">
<span class="md-ellipsis">
      Tablas de Productos
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tablas-de-clientes">
<span class="md-ellipsis">
      Tablas de Clientes
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tablas-de-vendedores">
<span class="md-ellipsis">
      Tablas de Vendedores
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tablas-de-tickets-y-documentos">
<span class="md-ellipsis">
      Tablas de Tickets y Documentos
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tablas-de-configuracion">
<span class="md-ellipsis">
      Tablas de Configuración
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tablas-de-estado">
<span class="md-ellipsis">
      Tablas de Estado
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#8-flujo-de-proceso">
<span class="md-ellipsis">
      8. Flujo de Proceso
    </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="ficha-tecnica-del-modulo-liquidacion-de-ventas-siac-20-ventas">Ficha Técnica del Módulo Liquidación de Ventas - SIAC 2.0 Ventas</h1>
<h2 id="1-proposito-general">1. Propósito General</h2>
<p>El módulo de Liquidación de Ventas es un componente crítico del sistema SIAC Ventas 2.0, diseñado para gestionar el proceso de liquidación de órdenes de compra, verificando que todos los productos sacados de CEDIS hayan sido vendidos o devueltos. Proporciona un proceso estructurado para la validación, liquidación y control de órdenes de compra.</p>
<h2 id="2-arquitectura-tecnica">2. Arquitectura Técnica</h2>
<p>Este módulo implementa la arquitectura estándar del sistema SIAC 2.0 definida en <a href="../../global/arquitectura/">Arquitectura del Sistema</a>, incluyendo:</p>
<ul>
<li>Separación por capas (presentación, lógica de negocio, datos)</li>
<li>Uso de AJAX con tokens para interacción dinámica</li>
<li>Validaciones integradas de sesión, permisos y datos</li>
</ul>
<h2 id="3-estructura-de-archivos-clave">3. Estructura de Archivos Clave</h2>
<table>
<thead>
<tr>
<th>Archivo</th>
<th>Funcionalidad</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="cci:7://file:///c:/Users/USER/Documents/Alinsa/DocumentacionTecnica/SIAC_Ventas_2.0_13_05_2025/ventas/vta_g_liquidacion.php:0:0-0:0">vta_g_liquidacion.php</a></td>
<td>Gestor principal de liquidación</td>
</tr>
<tr>
<td><a href="cci:7://file:///c:/Users/USER/Documents/Alinsa/DocumentacionTecnica/SIAC_Ventas_2.0_13_05_2025/ventas/vta_wspace.php:0:0-0:0">vta_wspace.php</a></td>
<td>Espacio de trabajo</td>
</tr>
<tr>
<td><a href="cci:7://file:///c:/Users/USER/Documents/Alinsa/DocumentacionTecnica/SIAC_Ventas_2.0_13_05_2025/ventas/pdf/view_os_liquidacion.php:0:0-0:0">view_os_liquidacion.php</a></td>
<td>Visualización de órdenes</td>
</tr>
<tr>
<td><a href="cci:7://file:///c:/Users/USER/Documents/Alinsa/DocumentacionTecnica/SIAC_Ventas_2.0_13_05_2025/ventas/pdf/view_vta_os_liquidacion.php:0:0-0:0">view_vta_os_liquidacion.php</a></td>
<td>Liquidación de ventas</td>
</tr>
<tr>
<td><code>vta_ajax.js</code></td>
<td>AJAX para liquidación</td>
</tr>
</tbody>
</table>
<h2 id="4-funcionalidades-principales">4. Funcionalidades Principales</h2>
<h3 id="41-gestion-de-liquidacion-de-ordenes">4.1 Gestión de Liquidación de Órdenes</h3>
<p><strong>Características:</strong></p>
<ul>
<li>Validación de órdenes de compra</li>
<li>Control de productos vendidos/devueltos</li>
<li>Gestión de estados de liquidación</li>
<li>Cancelación de órdenes</li>
</ul>
<p><strong>Referencias técnicas:</strong></p>
<ul>
<li>Tokens: 100-110</li>
<li>Archivos: <a href="cci:7://file:///c:/Users/USER/Documents/Alinsa/DocumentacionTecnica/SIAC_Ventas_2.0_13_05_2025/ventas/vta_g_liquidacion.php:0:0-0:0">vta_g_liquidacion.php</a>, <a href="cci:7://file:///c:/Users/USER/Documents/Alinsa/DocumentacionTecnica/SIAC_Ventas_2.0_13_05_2025/ventas/vta_ajax.php:0:0-0:0">vta_ajax.php</a></li>
<li>Clases: <code>c_Add_vta</code>, <code>c_Up_vta</code>, <code>c_Rmv_vta</code></li>
</ul>
<p><strong>Funciones principales:</strong></p>
<ul>
<li><code>vta_gliq_suc_av_os_act_widget_view_x_ids</code>: Gestión inicial de liquidación</li>
<li><code>vta_gliq_suc_av_os_liq_envia_x_ids</code>: Envío de liquidación por correo</li>
<li><code>vta_gliq_suc_av_os_liq_imprime_x_ids</code>: Impresión de liquidación</li>
<li><code>vta_gliq_suc_av_os_act_liquida_ok_x_ids</code>: Confirmación de liquidación</li>
<li><code>vta_gliq_suc_av_os_act_rmv_x_ids</code>: Cancelación de liquidación</li>
</ul>
<p><strong>Diagrama</strong></p>
<div class="mermaid">
graph TD
    A[Inicio Proceso de Liquidación] --&gt; B[Seleccionar Orden de Salida]
    B --&gt; C[Establecer Fecha de Liquidación]
    C --&gt; D[Confirmar]
    D --&gt; E[Validar Productos]
    E --&gt; F[Validar Documentos de Venta]
    F --&gt; G[Generar Liquidación]


    G --&gt; H[Confirmar Liquidación]
    H --&gt; I[Enviar notificación]



   %% Estilos personalizados
    classDef process fill:#e1f5fe,stroke:#01579b,color:#000;
    classDef decision fill:#fff3e0,stroke:#e65100,color:#000;
    classDef startend fill:#c8e6c9,stroke:#2e7d32,color:#000;

    class A startend;

    class B,C,D,F,E,+G,H,I,J,K process;
</div>
<h3 id="42-control-de-cancelaciones">4.2 Control de Cancelaciones</h3>
<p><strong>Características:</strong></p>
<ul>
<li>Validación de remisiones</li>
<li>Gestión de estados</li>
<li>Solicitud de auditoría</li>
<li>Cancelación de liquidación</li>
</ul>
<p><strong>Referencias técnicas:</strong></p>
<ul>
<li>Tablas: <code>liquidacion</code>, <code>add_orden_status_liquidacion</code></li>
<li>Clases: <code>c_Rmv_vta</code>, <code>c_Up_vta</code></li>
<li>Funciones: <code>vta_rmv_query_x_scrip</code>, <code>vta_up_docs_tit_val_x_ids</code></li>
</ul>
<p><strong>Diagrama</strong></p>
<div class="mermaid">
graph TD
    A[Inicio Proceso Cancelación Orden de Salida] --&gt; B[Seleccionar Orden de Salida]
    B --&gt; C{¿Tiene Documentos de Venta Asociados?}
    C --&gt;|Sí| D[No se Puede Cancelar]
    D --&gt; |Diríjase a| K[Módulo Ventas]
    C --&gt;|No| E[Petición al Auditor]
    E --&gt; F[Acepta]
    E --&gt; G[Rechaza]
    F --&gt; H[Orden Cancelada]

    %% Estilos personalizados
    classDef process fill:#e1f5fe,stroke:#01579b,color:#000;
    classDef decision fill:#fff3e0,stroke:#e65100,color:#000;
    classDef startend fill:#c8e6c9,stroke:#2e7d32,color:#000;
    classDef rejected fill:#ffcdd2,stroke:#b71c1c,color:#000;

    class A,H startend;
    class C,E decision;
    class B,K,F process;
    class D,G rejected;
</div>
<h3 id="43-generacion-de-documentos">4.3 Generación de Documentos</h3>
<p><strong>Características:</strong></p>
<ul>
<li>Generación de PDFs</li>
<li>Exportación de datos</li>
<li>Envío por correo</li>
<li>Historial de documentos</li>
</ul>
<p><strong>Referencias técnicas:</strong></p>
<ul>
<li>Directorio: <code>archivos/liquidacion/</code></li>
<li>Archivos: <code>.json</code>, <code>.pdf</code></li>
<li>Funciones: <code>vta_gliq_suc_av_os_liq_envia_x_ids</code></li>
</ul>
<h2 id="5-integraciones">5. Integraciones</h2>
<h3 id="51-proceso-de-liquidacion-de-ordenes-de-salida">5.1 Proceso de Liquidación de Ordenes de Salida</h3>
<h4 id="511-validacion-de-documentos">5.1.1 Validación de Documentos</h4>
<p>El proceso de liquidación inicia con la validación de remisiones en el sistema CRM:</p>
<p><strong>Características</strong></p>
<ul>
<li>Verificación de remisiones por cliente</li>
<li>Validación de estado de documentos</li>
<li>Consulta de historial de ventas</li>
<li>Generación de reportes de remisiones pendientes</li>
</ul>
<p><strong>Referencias técnicas</strong></p>
<ul>
<li>Tablas: <code>add_remision</code>, <code>add_remision_productos_orden</code></li>
<li>Clase: <code>class_crm.php</code>, métodos <code>crm_add_remision()</code>, <code>crm_add_remision_productos()</code></li>
<li>Funciones: <code>crm_add_remision_status()</code>, <code>crm_add_remision_venta_neta()</code></li>
</ul>
<h4 id="512-validacion-de-productos">5.1.2 Validación de Productos</h4>
<p>El sistema verifica el estado de los productos en CEDIS:</p>
<p><strong>Características</strong></p>
<ul>
<li>Validación de productos vendidos</li>
<li>Verificación de devoluciones</li>
<li>Control de stock disponible</li>
<li>Actualización de movimientos</li>
</ul>
<p><strong>Referencias técnicas</strong></p>
<ul>
<li>Tablas: <code>inicia_ruta_stock_vendedor</code>, <code>add_mini_stock_vendedor</code></li>
<li>Clase: <code>class_cds.php</code>, métodos <code>cds_add_gos_cedis_osalida()</code>, <code>cds_add_gos_cedis_os_depa()</code></li>
<li>Funciones: <code>cds_add_gos_cedis_av_os_prod_dev()</code>, <code>cds_add_gos_cedis_os_tit_reg()</code></li>
</ul>
<h4 id="513-gestion-de-cobros">5.1.3 Gestión de Cobros</h4>
<p>El proceso finaliza con la gestión de cobros en Caja:</p>
<p><strong>Características</strong></p>
<ul>
<li>Validación de pagos</li>
<li>Gestión de cobros</li>
<li>Conciliación de ventas</li>
<li>Reportes de caja</li>
</ul>
<p><strong>Referencias técnicas</strong></p>
<ul>
<li>Tablas: <code>add_ticket_titulo</code>, <code>add_ticket_detalle</code></li>
<li>Clase: <code>class_caja.php</code>, métodos <code>caja_add_ticket_titulo()</code>, <code>caja_add_ticket_detalle()</code></li>
<li>Funciones: <code>caja_add_ticket_status()</code>, <code>caja_add_ticket_movimientos()</code></li>
</ul>
<div class="mermaid">
graph TD
  %% Componentes principales
  LIQ["Componente: Módulo Liquidación"]
  CRM["Componente: CRM"]
  CEDIS["Componente: CEDIS"]
  CAJA["Componente: CAJA"]

  %% Relaciones estructurales
  LIQ --&gt;|Consulta remisiones| CRM
  LIQ --&gt;|Valida productos devueltos| CEDIS
  LIQ --&gt;|Genera liquidación y remite a| CAJA

  %% Estilos
  classDef componente fill:#b3cde0,stroke:#333,stroke-width:2px,color:#000;
  class LIQ,CRM,CEDIS,CAJA componente;

</div>
<h3 id="52-funciones-de-integracion">5.2 Funciones de Integración</h3>
<ul>
<li><code>vta_gliq_suc_av_os_act_widget_view_x_ids</code>: Gestión inicial de liquidación</li>
<li><code>vta_gliq_suc_av_os_liq_envia_x_ids</code>: Envío de liquidación por correo</li>
<li><code>vta_gliq_suc_av_os_liq_imprime_x_ids</code>: Impresión de liquidación</li>
<li><code>vta_gliq_suc_av_os_act_liquida_ok_x_ids</code>: Confirmación de liquidación</li>
</ul>
<h2 id="6-interaccion-cliente-servidor">6. Interacción Cliente-Servidor</h2>
<p>Ver detalles del patrón de comunicación en <a href="../../global/interaccion_cliente_servidor/">Interacción Cliente-Servidor</a>.</p>
<h2 id="7-base-de-datos">7. Base de datos</h2>
<h3 id="tablas-de-liquidacion">Tablas de Liquidación</h3>
<ul>
<li><strong>liquidacion</strong>: Almacena información de las liquidaciones.</li>
<li><strong>add_orden_status_liquidacion</strong>: Mantiene el estado de las órdenes en proceso de liquidación.</li>
</ul>
<h3 id="tablas-de-ventas-y-remisiones">Tablas de Ventas y Remisiones</h3>
<ul>
<li><strong>inicia_ruta_stock_vendedor</strong>: Gestiona las rutas y stock de los vendedores.</li>
<li><strong>add_remision</strong>: Almacena información de las remisiones.</li>
<li><strong>add_remision_productos_orden</strong>: Detalles de productos en remisiones.</li>
<li><strong>add_remision_venta_neta</strong>: Información de ventas netas.</li>
</ul>
<h3 id="tablas-de-productos">Tablas de Productos</h3>
<ul>
<li><strong>add_productos</strong>: Catálogo de productos.</li>
<li><strong>add_ct_productos</strong>: Categorías de productos.</li>
<li><strong>add_mini_stock_vendedor</strong>: Stock de productos por vendedor.</li>
</ul>
<h3 id="tablas-de-clientes">Tablas de Clientes</h3>
<ul>
<li><strong>add_clientes</strong>: Información de clientes.</li>
<li><strong>add_clientes_tipos</strong>: Tipos de clientes.</li>
</ul>
<h3 id="tablas-de-vendedores">Tablas de Vendedores</h3>
<ul>
<li><strong>add_cc_myr</strong>: Información de vendedores.</li>
<li><strong>add_comision_suc_meses</strong>: Comisiones por mes.</li>
<li><strong>add_comision_suc_av_prods_prom</strong>: Promedios de comisiones por producto.</li>
</ul>
<h3 id="tablas-de-tickets-y-documentos">Tablas de Tickets y Documentos</h3>
<ul>
<li><strong>add_ticket_titulo</strong>: Títulos de tickets.</li>
<li><strong>add_ticket_detalle</strong>: Detalles de tickets.</li>
</ul>
<h3 id="tablas-de-configuracion">Tablas de Configuración</h3>
<ul>
<li><strong>add_sucursal</strong>: Información de sucursales.</li>
<li><strong>add_ano_nuevo</strong>: Años de operación.</li>
<li><strong>rel_ano_mes_nuevo</strong>: Relación de años y meses.</li>
</ul>
<h3 id="tablas-de-estado">Tablas de Estado</h3>
<ul>
<li><strong>add_remision_venta_neta</strong>: Estado de ventas netas.</li>
<li><strong>add_comision_producto</strong>: Configuración de comisiones por producto.</li>
</ul>
<h2 id="8-flujo-de-proceso">8. Flujo de Proceso</h2>
<div class="mermaid">
graph TD
    A[Inicio] --&gt; B[Seleccionar Sucursal]
    B --&gt; C[Verificar Permisos]
    C --&gt;|Sí| D[Mostrar Espacio de Trabajo]
    D --&gt; E{Órdenes Pendientes?}
    E --&gt;|Sí| F[Seleccionar Orden]
    F --&gt; G[Validar Productos]
    G --&gt; H[Validar Documentos]
    H --&gt; I[Generar Liquidación]
    I --&gt; J[Actualizar Estado]
    E --&gt;|No| K[Mostrar Reportes]

   %% Estilos personalizados
    classDef process fill:#e1f5fe,stroke:#01579b,color:#000;
    classDef decision fill:#fff3e0,stroke:#e65100,color:#000;
    classDef startend fill:#c8e6c9,stroke:#2e7d32,color:#000;

    class A startend;
    class E decision;
    class B,C,D,F,G,H,I,J,K process;
</div>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
<script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
<script type="module">import mermaid from "https://unpkg.com/mermaid@10.4.0/dist/mermaid.esm.min.mjs";
mermaid.initialize({
    securityLevel: "loose",
    startOnLoad: true,
    theme: "default",
    mermaid_url: "https://unpkg.com/mermaid@10.4.0/dist/mermaid.min.js"
});</script></body>
</html>