{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"cedis/","title":"Ficha T\u00e9cnica Unificada del M\u00f3dulo CEDIS - SIAC 2.0 Ventas","text":""},{"location":"cedis/#1-proposito-general","title":"1. Prop\u00f3sito General","text":"<p>El m\u00f3dulo CEDIS (Centro de Distribuci\u00f3n) gestiona el inventario de producto terminado en almacenes centrales, incluyendo:</p> <ul> <li>Entradas por producci\u00f3n o migraciones manuales.</li> <li>Salidas por \u00f3rdenes de salida o traslados.</li> <li>Consultas y ajustes de inventario.</li> <li>Respaldo de datos mediante archivos JSON y generaci\u00f3n de reportes PDF.</li> </ul> <p>Ubicado en la carpeta <code>ventas/</code>, forma parte del sistema <code>SIAC_2_0_Ventas</code>.</p>"},{"location":"cedis/#2-arquitectura-general","title":"2. Arquitectura General","text":"<p>Lenguajes y Tecnolog\u00edas: </p> <ul> <li>PHP,</li> <li>JavaScript (jQuery),</li> <li>HTML/CSS, Bootstrap,</li> <li>MySQL,</li> <li>AJAX.</li> </ul> <p>Patrones: MVC, Singleton (<code>class_wservice.php</code>), Factory (<code>c_View_cds</code>, <code>c_Up_cds</code>).</p>"},{"location":"cedis/#frontend","title":"Frontend","text":"<ul> <li>Interfaz basada en formularios (<code>cds_forms.php</code>).</li> <li>Widgets y tablas interactivas (<code>cds_widgets.php</code>, <code>cds_tablas.php</code>).</li> <li>Uso de Select2, iCheck, Datepicker (ver <code>cds_forms.php</code>, l\u00edneas 384, 1700, 1777).</li> </ul>"},{"location":"cedis/#backend","title":"Backend","text":"<ul> <li>Controlador AJAX: <code>cds_ajax.php</code>.</li> <li>Clase principal: <code>class_cds.php</code>.</li> <li>Conexi\u00f3n a procedimientos almacenados prefijados como <code>sp_cds_*</code>.</li> </ul>"},{"location":"cedis/#3-estructura-de-archivos-clave","title":"3. Estructura de Archivos Clave","text":"Archivo Funcionalidad <code>cds_ajax.php</code> Puente AJAX entre frontend y backend, validaci\u00f3n. <code>cds_forms.php</code> Formularios para entradas, salidas, consultas. <code>cds_tablas.php</code> Renderizaci\u00f3n de tablas HTML. <code>cds_widgets.php</code> Visualizaci\u00f3n de KPIs. <code>cds_modals.php</code> Ventanas emergentes. <code>cds_g_orden_salida.php</code> Gesti\u00f3n de \u00f3rdenes de salida. <code>cds_g_inventarios.php</code> Vista principal de inventario. <code>cds_wspace.php</code> Espacio de trabajo del usuario. <code>cds_select.php</code> Carga de datos en selects din\u00e1micos. <code>view_cds_stk_ent_loc_pt.php</code> Respaldo de stock desde JSON."},{"location":"cedis/#4-clase-principal-class_cdsphp","title":"4. Clase Principal: <code>class_cds.php</code>","text":"<p>Encapsula la l\u00f3gica de negocio del m\u00f3dulo. Estructura:</p>"},{"location":"cedis/#vistas","title":"Vistas","text":"<ul> <li><code>c_View_cds()</code></li> <li><code>cds_view_query_x_scrip()</code></li> </ul>"},{"location":"cedis/#altas","title":"Altas","text":"<ul> <li><code>c_Add_cds()</code></li> <li><code>cds_add_ginv_stock_mig_tit()</code></li> </ul>"},{"location":"cedis/#actualizacion","title":"Actualizaci\u00f3n","text":"<ul> <li><code>cds_up_av_os_pd_prod_cant_edo_tmp_x_ids()</code></li> </ul>"},{"location":"cedis/#eliminacion","title":"Eliminaci\u00f3n","text":"<ul> <li><code>cds_rmv_av_os_pd_prod_cont_x_scrip()</code></li> </ul>"},{"location":"cedis/#utilidades","title":"Utilidades","text":"<ul> <li><code>cds_mes()</code></li> <li><code>cds_genera_color()</code></li> <li><code>cds_detecta_dispositivo()</code></li> </ul>"},{"location":"cedis/#funciones-especificas","title":"Funciones Espec\u00edficas","text":"<p>Entradas:</p> <ul> <li><code>cds_add_gtex_cedis_ent_pt_tit()</code></li> <li><code>cds_add_gept_stock_tit()</code></li> </ul> <p>Salidas:</p> <ul> <li><code>cds_add_gos_cedis_os_tit_reg()</code></li> <li><code>cds_add_gos_cds_av_os_prod_reg()</code></li> </ul> <p>Devoluciones:</p> <ul> <li><code>cds_add_gma_prod_devolver()</code></li> <li><code>cds_add_skvw_cedis_noti_aj_prod()</code></li> </ul> <p>Ajustes de stock:</p> <ul> <li><code>cds_up_gtex_prod_stk_cant_x_ids()</code></li> <li><code>cds_up_gos_cedis_stock_x_ids()</code></li> </ul> <p>Eliminaci\u00f3n:</p> <ul> <li><code>cds_rmv_os_pa_prod_x_scrip()</code></li> </ul>"},{"location":"cedis/#5-interaccion-cliente-servidor","title":"5. Interacci\u00f3n Cliente-Servidor","text":""},{"location":"cedis/#javascript","title":"JavaScript","text":"<ul> <li>Archivos: <code>cds_ajax.js</code>, <code>cds_ajax_1.js</code>.</li> <li>Funciones: <code>cds_gcds_os_av_pd_prods_list_view_x_ids()</code>, <code>cds_g_gstk_inicio_graf_view_x_ids()</code>.</li> </ul>"},{"location":"cedis/#ajax-php","title":"AJAX PHP","text":"<ul> <li>Archivo: <code>cds_ajax.php</code></li> <li>Validaci\u00f3n de tokens (l\u00ednea 1).</li> <li>Gesti\u00f3n de escaneo y actualizaciones (l\u00edneas 66-180).</li> <li>Integraci\u00f3n con otros m\u00f3dulos (l\u00ednea 350+).</li> </ul>"},{"location":"cedis/#6-base-de-datos","title":"6. Base de Datos","text":"<p>Procedimientos Almacenados (SPs): <code>sp_cds_*</code></p> <p>Tablas clave:</p> <ul> <li><code>inventario_cedis</code></li> <li><code>movimientos_cedis</code></li> <li><code>orden_salida</code></li> <li><code>prodts_pedido_stock_temp</code></li> <li><code>productos</code></li> </ul>"},{"location":"cedis/#7-funcionalidades-clave","title":"7. Funcionalidades Clave","text":"<p>Entradas de producto:</p> <ul> <li>Desde escaneo (<code>cds_forms.php</code>) o migraci\u00f3n manual (<code>cds_forms_1.php</code>).</li> <li>Flujos definidos en <code>cds_ajax.php</code> (l\u00edneas 66-99).</li> </ul> <p>Salidas:</p> <ul> <li>Desde <code>cds_g_orden_salida.php</code>.</li> <li>Validaci\u00f3n de stock (<code>class_cds::get_stock_actual()</code>).</li> <li>Reportes PDF (<code>view_cds_av_pd_os.php</code>).</li> </ul> <p>Consultas de inventario:</p> <ul> <li>M\u00e9todos: <code>get_movimientos()</code>, <code>respaldo_inventario()</code> en <code>class_cds.php</code>.</li> <li>Visualizaci\u00f3n: <code>cds_graficas.php</code>, <code>cds_widgets.php</code>.</li> </ul>"},{"location":"cedis/#8-seguridad","title":"8. Seguridad","text":"<ul> <li>Validaci\u00f3n de tokens (<code>cds_ajax.php</code>, l\u00ednea 1).</li> <li>Control de roles desde m\u00f3dulo global.</li> <li>Sanitizaci\u00f3n de entradas y uso de <code>POST</code> en formularios.</li> </ul>"},{"location":"cedis/#9-integraciones","title":"9. Integraciones","text":"<ul> <li>M\u00f3dulos internos: ventas, contabilidad, compras, RH.</li> <li>Servicios externos: facturaci\u00f3n electr\u00f3nica, impresi\u00f3n, notificaciones.</li> </ul>"},{"location":"cedis/#10-diagrama-de-flujo-modulo-cedis","title":"10. Diagrama de Flujo \u2013 M\u00f3dulo CEDIS","text":"<pre><code>graph TD\n    A[Inicio] --&gt; B[Autenticaci\u00f3n]\n    B --&gt; C{Men\u00fa Principal}\n\n    %% Gesti\u00f3n de Inventario\n    C --&gt; |Inventario| D[Seleccionar Producto]\n    D --&gt; E[Consultar Existencia]\n    E --&gt; F{\u00bfSuficiente Stock?}\n    F --&gt; |S\u00ed| G[Generar Orden de Salida]\n    F --&gt; |No| H[Notificar Falta]\n    G --&gt; I[Actualizar Inventario]\n\n    %% \u00d3rdenes de Salida\n    C --&gt; |\u00d3rdenes de Salida| J[Crear Orden]\n    J --&gt; K[Agregar Productos]\n    K --&gt; L{\u00bfC\u00f3digo de Barras?}\n    L --&gt; |S\u00ed| M[Escanear]\n    L --&gt; |No| N[Buscar Manualmente]\n    M --&gt; O[Validar Producto]\n    N --&gt; O\n    O --&gt; P[Agregar a Orden]\n    P --&gt; Q{\u00bfFinalizado?}\n    Q --&gt; |No| K\n    Q --&gt; |S\u00ed| R[Confirmar Orden]\n    R --&gt; S[Generar Documentos]\n\n    %% Recepci\u00f3n\n    C --&gt; |Recepci\u00f3n| T[Escanear Producto]\n    T --&gt; U[Validar contra Orden]\n    U --&gt; V{\u00bfCoincide?}\n    V --&gt; |S\u00ed| W[Registrar]\n    V --&gt; |No| X[Notificar Diferencia]\n    W --&gt; Y[Actualizar Inventario]\n\n    %% Reportes\n    C --&gt; |Reportes| Z[Seleccionar Tipo]\n    Z --&gt; AA[Filtrar Par\u00e1metros]\n    AA --&gt; AB[Generar Reporte]\n    AB --&gt; AC[Exportar / Imprimir]\n\n    classDef process fill:#e1f5fe,stroke:#01579b,color:#000\n    classDef decision fill:#fff3e0,stroke:#e65100,color:#000\n    classDef startend fill:#c8e6c9,stroke:#2e7d32,color:#000\n\n    class A,AC startend\n    class F,L,Q,V decision\n    class B,C,D,E,G,H,I,J,K,M,N,O,P,R,S,T,U,W,X,Y,Z,AA,AB process\n</code></pre>"},{"location":"cedis/#11-observaciones-y-mejora-continua","title":"11. Observaciones y Mejora Continua","text":"<ul> <li>El m\u00f3dulo presenta buena modularidad, con separaci\u00f3n clara entre vistas, l\u00f3gica y base de datos.</li> </ul> <p>Posibles mejoras:</p> <ul> <li>Documentaci\u00f3n m\u00e1s detallada.</li> <li>Implementaci\u00f3n de REST API.</li> <li>Mejora de experiencia m\u00f3vil.</li> </ul> <p>Responsable: Jair Cipriano Correo: jcipriano@colpac.com.mx</p>"}]}